/*! For license information please see main.d85620f2.chunk.js.LICENSE */
(this["webpackJsonpself-service-data-ui"]=this["webpackJsonpself-service-data-ui"]||[]).push([[0],{123:function(e,t){var a=window.screen.width>768?1*window.screen.width/3:window.screen.width,n={Wrapper:{},Containers:{DefaultStyle:{position:"fixed",width:a,padding:"10px 10px 10px 20px",zIndex:9998,WebkitBoxSizing:"",MozBoxSizing:"",boxSizing:"",height:"auto",display:"inline-block",border:"0",fontSize:"14px",WebkitFontSmoothing:"antialiased",fontFamily:'"Roboto","Helvetica Neue",Arial,sans-serif',fontWeight:"400",color:"#FFFFFF"},tl:{top:"0px",bottom:"auto",left:"0px",right:"auto"},tr:{top:"0px",bottom:"auto",left:"auto",right:"0px"},tc:{top:"0px",bottom:"auto",margin:"0 auto",left:"50%",marginLeft:-a/2},bl:{top:"auto",bottom:"0px",left:"0px",right:"auto"},br:{top:"auto",bottom:"0px",left:"auto",right:"0px"},bc:{top:"auto",bottom:"0px",margin:"0 auto",left:"50%",marginLeft:-a/2}},NotificationItem:{DefaultStyle:{position:"relative",width:"100%",cursor:"pointer",borderRadius:"4px",fontSize:"14px",margin:"10px 0 0",padding:"10px",display:"block",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box",opacity:0,transition:"all 0.5s ease-in-out",WebkitTransform:"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)",willChange:"transform, opacity",isHidden:{opacity:0},isVisible:{opacity:1}},success:{borderTop:0,backgroundColor:"#a1e82c",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},error:{borderTop:0,backgroundColor:"#fc727a",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},warning:{borderTop:0,backgroundColor:"#ffbc67",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},info:{borderTop:0,backgroundColor:"#63d8f1",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0}},Title:{DefaultStyle:{fontSize:"30px",margin:"0",padding:0,fontWeight:"bold",color:"#FFFFFF",display:"block",left:"15px",position:"absolute",top:"50%",marginTop:"-15px"}},MessageWrapper:{DefaultStyle:{marginLeft:"55px",marginRight:"30px",padding:"0 12px 0 0",color:"#FFFFFF",maxWidthwidth:"89%"}},Dismiss:{DefaultStyle:{fontFamily:"inherit",fontSize:"21px",color:"#000",float:"right",position:"absolute",right:"10px",top:"50%",marginTop:"-13px",backgroundColor:"#FFFFFF",display:"block",borderRadius:"50%",opacity:".4",lineHeight:"11px",width:"25px",height:"25px",outline:"0 !important",textAlign:"center",padding:"6px 3px 3px 3px",fontWeight:"300",marginLeft:"65px"},success:{},error:{},warning:{},info:{}},Action:{DefaultStyle:{background:"#ffffff",borderRadius:"2px",padding:"6px 20px",fontWeight:"bold",margin:"10px 0 0 0",border:0},success:{backgroundColor:"#a1e82c",color:"#ffffff"},error:{backgroundColor:"#fc727a",color:"#ffffff"},warning:{backgroundColor:"#ffbc67",color:"#ffffff"},info:{backgroundColor:"#63d8f1",color:"#ffffff"}},ActionWrapper:{DefaultStyle:{margin:0,padding:0}}};e.exports={style:n,thArray:["ID","Name","Salary","Country","City"],tdArray:[["1","Dakota Rice","$36,738","Niger","Oud-Turnhout"],["2","Minerva Hooper","$23,789","Cura\xe7ao","Sinaai-Waas"],["3","Sage Rodriguez","$56,142","Netherlands","Baileux"],["4","Philip Chaney","$38,735","Korea, South","Overland Park"],["5","Doris Greene","$63,542","Malawi","Feldkirchen in K\xe4rnten"],["6","Mason Porter","$78,615","Chile","Gloucester"]],iconsArray:["pe-7s-album","pe-7s-arc","pe-7s-back-2","pe-7s-bandaid","pe-7s-car","pe-7s-diamond","pe-7s-door-lock","pe-7s-eyedropper","pe-7s-female","pe-7s-gym","pe-7s-hammer","pe-7s-headphones","pe-7s-helm","pe-7s-hourglass","pe-7s-leaf","pe-7s-magic-wand","pe-7s-male","pe-7s-map-2","pe-7s-next-2","pe-7s-paint-bucket","pe-7s-pendrive","pe-7s-photo","pe-7s-piggy","pe-7s-plugin","pe-7s-refresh-2","pe-7s-rocket","pe-7s-settings","pe-7s-shield","pe-7s-smile","pe-7s-usb","pe-7s-vector","pe-7s-wine","pe-7s-cloud-upload","pe-7s-cash","pe-7s-close","pe-7s-bluetooth","pe-7s-cloud-download","pe-7s-way","pe-7s-close-circle","pe-7s-id","pe-7s-angle-up","pe-7s-wristwatch","pe-7s-angle-up-circle","pe-7s-world","pe-7s-angle-right","pe-7s-volume","pe-7s-angle-right-circle","pe-7s-users","pe-7s-angle-left","pe-7s-user-female","pe-7s-angle-left-circle","pe-7s-up-arrow","pe-7s-angle-down","pe-7s-switch","pe-7s-angle-down-circle","pe-7s-scissors","pe-7s-wallet","pe-7s-safe","pe-7s-volume2","pe-7s-volume1","pe-7s-voicemail","pe-7s-video","pe-7s-user","pe-7s-upload","pe-7s-unlock","pe-7s-umbrella","pe-7s-trash","pe-7s-tools","pe-7s-timer","pe-7s-ticket","pe-7s-target","pe-7s-sun","pe-7s-study","pe-7s-stopwatch","pe-7s-star","pe-7s-speaker","pe-7s-signal","pe-7s-shuffle","pe-7s-shopbag","pe-7s-share","pe-7s-server","pe-7s-search","pe-7s-film","pe-7s-science","pe-7s-disk","pe-7s-ribbon","pe-7s-repeat","pe-7s-refresh","pe-7s-add-user","pe-7s-refresh-cloud","pe-7s-paperclip","pe-7s-radio","pe-7s-note2","pe-7s-print","pe-7s-network","pe-7s-prev","pe-7s-mute","pe-7s-power","pe-7s-medal","pe-7s-portfolio","pe-7s-like2","pe-7s-plus","pe-7s-left-arrow","pe-7s-play","pe-7s-key","pe-7s-plane","pe-7s-joy","pe-7s-photo-gallery","pe-7s-pin","pe-7s-phone","pe-7s-plug","pe-7s-pen","pe-7s-right-arrow","pe-7s-paper-plane","pe-7s-delete-user","pe-7s-paint","pe-7s-bottom-arrow","pe-7s-notebook","pe-7s-note","pe-7s-next","pe-7s-news-paper","pe-7s-musiclist","pe-7s-music","pe-7s-mouse","pe-7s-more","pe-7s-moon","pe-7s-monitor","pe-7s-micro","pe-7s-menu","pe-7s-map","pe-7s-map-marker","pe-7s-mail","pe-7s-mail-open","pe-7s-mail-open-file","pe-7s-magnet","pe-7s-loop","pe-7s-look","pe-7s-lock","pe-7s-lintern","pe-7s-link","pe-7s-like","pe-7s-light","pe-7s-less","pe-7s-keypad","pe-7s-junk","pe-7s-info","pe-7s-home","pe-7s-help2","pe-7s-help1","pe-7s-graph3","pe-7s-graph2","pe-7s-graph1","pe-7s-graph","pe-7s-global","pe-7s-gleam","pe-7s-glasses","pe-7s-gift","pe-7s-folder","pe-7s-flag","pe-7s-filter","pe-7s-file","pe-7s-expand1","pe-7s-exapnd2","pe-7s-edit","pe-7s-drop","pe-7s-drawer","pe-7s-download","pe-7s-display2","pe-7s-display1","pe-7s-diskette","pe-7s-date","pe-7s-cup","pe-7s-culture","pe-7s-crop","pe-7s-credit","pe-7s-copy-file","pe-7s-config","pe-7s-compass","pe-7s-comment","pe-7s-coffee","pe-7s-cloud","pe-7s-clock","pe-7s-check","pe-7s-chat","pe-7s-cart","pe-7s-camera","pe-7s-call","pe-7s-calculator","pe-7s-browser","pe-7s-box2","pe-7s-box1","pe-7s-bookmarks","pe-7s-bicycle","pe-7s-bell","pe-7s-battery","pe-7s-ball","pe-7s-back","pe-7s-attention","pe-7s-anchor","pe-7s-albums","pe-7s-alarm","pe-7s-airplay"],dataPie:{labels:["40%","20%","40%"],series:[40,20,40]},legendPie:{names:["Open","Bounce","Unsubscribe"],types:["info","danger","warning"]},dataSales:{labels:["9:00AM","12:00AM","3:00PM","6:00PM","9:00PM","12:00PM","3:00AM","6:00AM"],series:[[287,385,490,492,554,586,698,695],[67,152,143,240,287,335,435,437],[23,113,67,108,190,239,307,308]]},optionsSales:{low:0,high:800,showArea:!1,height:"245px",axisX:{showGrid:!1},lineSmooth:!0,showLine:!0,showPoint:!0,fullWidth:!0,chartPadding:{right:50}},responsiveSales:[["screen and (max-width: 640px)",{axisX:{labelInterpolationFnc:function(e){return e[0]}}}]],legendSales:{names:["Open","Click","Click Second Time"],types:["info","danger","warning"]},dataBar:{labels:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],series:[[542,443,320,780,553,453,326,434,568,610,756,895],[412,243,280,580,453,353,300,364,368,410,636,695]]},optionsBar:{seriesBarDistance:10,axisX:{showGrid:!1},height:"245px"},responsiveBar:[["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(e){return e[0]}}}]],legendBar:{names:["Tesla Model S","BMW 5 Series"],types:["info","danger"]}}},233:function(e,t,a){e.exports=a.p+"static/media/sidebar-2.7a4ce7cc.jpg"},234:function(e,t,a){e.exports=a.p+"static/media/nmh.48a4e104.jpg"},236:function(e,t,a){e.exports=a(517)},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},288:function(e,t,a){e.exports=a.p+"static/media/reactlogo.9b864b36.png"},482:function(e,t){},484:function(e,t){},516:function(e,t,a){e.exports=a.p+"static/media/samplePicture.e6a55797.jpg"},517:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(23),r=a.n(s),o=a(66),l=a(48),c=(a(129),a(241),a(242),a(243),a(244),a(8)),u=a(9),d=a(11),p=a(10),g=a(3),h=a(12),m=a(219),b=a.n(m),f=a(523),y=a(518),v=a(519),k=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){i.a.createElement("div",null,i.a.createElement("i",{className:"fa fa-globe"}),i.a.createElement("b",{className:"caret"}),i.a.createElement("span",{className:"notification"},"5"),i.a.createElement("p",{className:"hidden-lg hidden-md"},"Notification"));return i.a.createElement("div",null,i.a.createElement(y.a,null,i.a.createElement(v.a,{eventKey:1,href:"#"},i.a.createElement("i",{className:"fa fa-dashboard"}),i.a.createElement("p",{className:"hidden-lg hidden-md"},"Dashboard")),i.a.createElement(v.a,{eventKey:3,href:"#"},i.a.createElement("i",{className:"fa fa-search"}),i.a.createElement("p",{className:"hidden-lg hidden-md"},"Search"))),i.a.createElement(y.a,{pullRight:!0,style:x.NavStyle},i.a.createElement(v.a,{eventKey:1,href:"#"},"Account"),i.a.createElement(v.a,{eventKey:3,href:"#"},"Log out")))}}]),t}(n.Component),x={NavStyle:{color:"#ZZZZZZ"}},E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).mobileSidebarToggle=a.mobileSidebarToggle.bind(Object(g.a)(a)),a.state={sidebarExists:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"mobileSidebarToggle",value:function(e){!1===this.state.sidebarExists&&this.setState({sidebarExists:!0}),e.preventDefault(),document.documentElement.classList.toggle("nav-open");var t=document.createElement("div");t.id="bodyClick",t.onclick=function(){this.parentElement.removeChild(this),document.documentElement.classList.toggle("nav-open")},document.body.appendChild(t)}},{key:"render",value:function(){return i.a.createElement(f.a,{fluid:!0},i.a.createElement(f.a.Header,null,i.a.createElement(f.a.Brand,null,i.a.createElement("a",{href:"#pablo"},this.props.brandText)),i.a.createElement(f.a.Toggle,{onClick:this.mobileSidebarToggle})),i.a.createElement(f.a.Collapse,null,i.a.createElement(k,null)))}}]),t}(n.Component),P=a(223),S=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("footer",{className:"footer"},i.a.createElement(P.a,{fluid:!0},i.a.createElement("nav",{className:"pull-left"},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"https://www.nm.org/conditions-and-care-areas/ophthalmology"},"NMH Ophthalmology")),i.a.createElement("li",null,i.a.createElement("a",{href:"#pablo"})),i.a.createElement("li",null,i.a.createElement("a",{href:"#pablo"})),i.a.createElement("li",null,i.a.createElement("a",{href:"#pablo"})))),i.a.createElement("p",{className:"copyright pull-right"},"\xa9 ",(new Date).getFullYear()," ",i.a.createElement("a",{href:"https://www.northwestern.edu/"},"Northwestern University"))))}}]),t}(n.Component),C=(a(288),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={width:window.innerWidth},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"updateDimensions",value:function(){this.setState({width:window.innerWidth})}},{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this))}},{key:"render",value:function(){var e=this,t={backgroundImage:"url("+this.props.image+")"};return i.a.createElement("div",{id:"sidebar",className:"sidebar","data-color":this.props.color,"data-image":this.props.image},this.props.hasImage?i.a.createElement("div",{className:"sidebar-background",style:t}):null,i.a.createElement("div",{className:"logo"},i.a.createElement("a",{href:"https://www.nm.org/locations/northwestern-memorial-hospital",className:"simple-text logo-normal"},"Northwestern Memorial Hospital")),i.a.createElement("div",{className:"sidebar-wrapper"},i.a.createElement("ul",{className:"nav"},this.state.width<=991?i.a.createElement(k,null):null,this.props.routes.map((function(t,a){return t.redirect?null:i.a.createElement("li",{className:t.upgrade?"active active-pro":e.activeRoute(t.layout+t.path),key:a},i.a.createElement(o.b,{to:t.layout+t.path,className:"nav-link",activeClassName:"active"},i.a.createElement("i",{className:t.icon}),i.a.createElement("p",null,t.name)))})))))}}]),t}(n.Component)),I=a(235),w=a(91),D=a(7),_=a.n(D),O=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fill,a=e.simple,n=e.pullRight,s=e.round,r=e.block,o=Object(I.a)(e,["fill","simple","pullRight","round","block"]),l=_()({"btn-fill":t,"btn-simple":a,"pull-right":n,"btn-block":r,"btn-round":s});return i.a.createElement(w.a,Object.assign({className:l},o))}}]),t}(n.Component),T=a(123),j=a(18),F=a(520),B=a(521),A=["Eye Diagnosis","Systemic Diagnosis","Age","Ethnicity","Image Procedure Type","Labs","Medication Generic Name","Medication Therapeutic Name","Vision","Pressure"],L=(a(39),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={filter_categories:[],filter_subcategories_div:{},selected_categories:[],selected_values:{},checkbox_values:{}},a.getFilterCategories=a.getFilterCategories.bind(Object(g.a)(a)),a.createFilterSubcategoryDivs=a.createFilterSubcategoryDivs.bind(Object(g.a)(a)),a.getSelectedFilters=a.getSelectedFilters.bind(Object(g.a)(a)),a.categoryFilterPressed=a.categoryFilterPressed.bind(Object(g.a)(a)),a.subcategoryFilterPressed=a.subcategoryFilterPressed.bind(Object(g.a)(a)),a.checkBoxChanged=a.checkBoxChanged.bind(Object(g.a)(a)),a.resetButtonPressed=a.resetButtonPressed.bind(Object(g.a)(a)),a.submitButtonPressed=a.submitButtonPressed.bind(Object(g.a)(a)),a.isSubcategoryChecked=a.isSubcategoryChecked.bind(Object(g.a)(a)),a.textFieldChanged=a.textFieldChanged.bind(Object(g.a)(a)),a.getElasticSearch=a.getElasticSearch.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.getFilterCategories();if(this.setState({filter_categories:t}),this.props.pageStatus.FilterPage){var a=[];for(var n in this.props.pageStatus.FilterPage)a.push(n);this.setState({selected_categories:a,selected_values:this.props.pageStatus.FilterPage})}setTimeout((function(){e.createFilterSubcategoryDivs()}),1e3)}},{key:"resetButtonPressed",value:function(){this.setState({selected_categories:[],selected_values:{},checkbox_values:{}})}},{key:"submitButtonPressed",value:function(){var e=this.state.selected_values;for(var t in this.state.checkbox_values)e[t]=this.state.checkbox_values[t];var a=this.props.pageStatus;a.FilterPage=e,a.PatientsPage=e;var n={page:"PatientsPage",additionalInfo:e,pageStatus:a};this.props.changePage(n)}},{key:"getFilterCategories",value:function(){for(var e=this,t=[],a=0;a<A.length;a++){var n=A[a],s=null;s=-1!==this.state.selected_categories.indexOf(n)?i.a.createElement(O,{style:N.buttonDivPressed,title:n,onClick:function(t){return e.categoryFilterPressed(t)}}," ",n," "):i.a.createElement(O,{style:N.buttonDiv,title:n,onClick:function(t){return e.categoryFilterPressed(t)}}," ",n," "),t.push(s)}return t}},{key:"isSubcategoryChecked",value:function(e,t){try{if(-1!==this.state.selected_values[e].indexOf(t))return!0}catch(a){}try{if(this.state.selected_values[e][t])return!0}catch(a){}return!1}},{key:"createFilterSubcategoryDivs",value:function(e,t){var a=this,n={},s=null;e&&t&&t.length>2&&(this.getElasticSearch(e,t),(s=this.state.elasticSearch)&&(s=s.map((function(t){return i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",defaultChecked:a.isSubcategoryChecked(e,t),title:e+";"+t,onChange:function(e){return a.subcategoryFilterPressed(e)}}),t,i.a.createElement("br",null))}))));for(var r=0;r<this.state.filter_categories.length;r++){var o=this.state.filter_categories[r].props.title;"Vision"===o||"Pressure"===o?(n["Left "+o]=i.a.createElement(F.a,{lg:3,sm:4,style:N.mainDivCategoryStyle},i.a.createElement("div",{style:N.mainDivButtonTitle},"Left "+o),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked("Left "+o,"less"),title:"Left "+o+";less",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),"less",i.a.createElement("input",{type:"text",defaultChecked:this.isSubcategoryChecked("Left "+o,"less"),title:"Left "+o+";less",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),i.a.createElement("br",null),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked("Left "+o,"greater"),title:"Left "+o+";greater",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),"greater",i.a.createElement("input",{type:"text",defaultChecked:this.isSubcategoryChecked("Left "+o,"greater"),title:"Left "+o+";greater",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),i.a.createElement("br",null),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked("Left "+o,"equal"),title:"Left "+o+";equal",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),"equal",i.a.createElement("input",{type:"text",defaultChecked:this.isSubcategoryChecked("Left "+o,"equal"),title:"Left "+o+";equal",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),i.a.createElement("br",null),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked("Left "+o,"between"),title:"Left "+o+";between",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),o,i.a.createElement("input",{type:"text",title:"Left "+o+";between less",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),"and",i.a.createElement("input",{type:"text",title:"Left "+o+";between greater",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text})),n["Right "+o]=i.a.createElement(F.a,{lg:3,sm:4,style:N.mainDivCategoryStyle},i.a.createElement("div",{style:N.mainDivButtonTitle},"Right "+o),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked("Right "+o,"less"),title:"Right "+o+";less",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),"less",i.a.createElement("input",{type:"text",defaultChecked:this.isSubcategoryChecked("Right "+o,"less"),title:"Right "+o+";less",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),i.a.createElement("br",null),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked("Right "+o,"greater"),title:"Right "+o+";greater",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),"greater",i.a.createElement("input",{type:"text",defaultChecked:this.isSubcategoryChecked("Right "+o,"greater"),title:"Right "+o+";greater",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),i.a.createElement("br",null),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked("Right "+o,"equal"),title:"Right "+o+";equal",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),"equal",i.a.createElement("input",{type:"text",defaultChecked:this.isSubcategoryChecked("Right "+o,"equal"),title:"Right "+o+";equal",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),i.a.createElement("br",null),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked("Right "+o,"between"),title:"Right "+o+";between",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),o,i.a.createElement("input",{type:"text",title:"Right "+o+";between less",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),"and",i.a.createElement("input",{type:"text",title:"Right "+o+";between greater",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}))):n[o]="Age"===o?i.a.createElement(F.a,{lg:3,sm:4,style:N.mainDivCategoryStyle},i.a.createElement("div",{style:N.mainDivButtonTitle},o),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked(o,"less"),title:o+";less",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),"less",i.a.createElement("input",{type:"text",defaultChecked:this.isSubcategoryChecked(o,"less"),title:o+";less",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),i.a.createElement("br",null),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked(o,"greater"),title:o+";greater",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),"greater",i.a.createElement("input",{type:"text",defaultChecked:this.isSubcategoryChecked(o,"greater"),title:o+";greater",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),i.a.createElement("br",null),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked(o,"equal"),title:o+";equal",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),"equal",i.a.createElement("input",{type:"text",defaultChecked:this.isSubcategoryChecked(o,"equal"),title:o+";equal",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),i.a.createElement("br",null),i.a.createElement("input",{type:"checkbox",defaultChecked:this.isSubcategoryChecked(o,"between"),title:o+";between",onChange:function(e){return a.subcategoryFilterPressed(e)},style:N.main_div_button_checkbox}),o,i.a.createElement("input",{type:"text",title:o+";between less",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text}),"and",i.a.createElement("input",{type:"text",title:o+";between greater",onChange:function(e){return a.checkBoxChanged(e)},style:N.main_div_button_text})):i.a.createElement(F.a,{lg:3,sm:4,style:N.mainDivCategoryStyle},i.a.createElement("div",{style:N.mainDivButtonTitle},o),i.a.createElement("input",{style:N.inputStyle,defaultValue:"Search for keyword",onChange:function(e){return a.textFieldChanged(e)},title:o}),e===o?s:null)}this.setState({filter_subcategories_div:n})}},{key:"textFieldChanged",value:function(e){this.createFilterSubcategoryDivs(e.target.title,e.target.value)}},{key:"getElasticSearch",value:function(e,t){var n=this;a(39)({url:"https://tigernie.com/ssd_api/es/"+{"Eye Diagnosis":"eye_diagnosis","Systemic Diagnosis":"systemic_diagnosis","Medication Generic Name":"medication_generic_name","Medication Therapeutic Name":"medication_therapeutic_class","Image Procedure Type":"image_procedure",Labs:"lab"}[e]+"?query="+t,method:"GET"}).then((function(e){console.log(e);var t=e.data.result.matches;n.setState({elasticSearch:t})})).catch((function(e){console.log(e),"Request failed with status code 401"===e.message&&n.props.backToLoginPage()}))}},{key:"getSelectedFilters",value:function(){for(var e=[],t=0;t<this.state.selected_categories.length;t++){var a=this.state.selected_categories[t];"Vision"===a?(e.push(this.state.filter_subcategories_div["Left Vision"]),e.push(this.state.filter_subcategories_div["Right Vision"])):"Pressure"===a?(e.push(this.state.filter_subcategories_div["Left Pressure"]),e.push(this.state.filter_subcategories_div["Right Pressure"])):e.push(this.state.filter_subcategories_div[a])}return e}},{key:"categoryFilterPressed",value:function(e){var t=e.target.title;if(-1===this.state.selected_categories.indexOf(t))this.state.selected_categories.push(t),this.setState({selected_categories:this.state.selected_categories});else{var a=this.state.selected_categories.filter((function(e){return e!==t}));this.setState({selected_categories:a})}}},{key:"subcategoryFilterPressed",value:function(e){var t=e.target.title.split(";"),a=t[0],n=t[1];if(this.state.selected_values[a])if(-1===this.state.selected_values[a].indexOf(n))this.state.selected_values[a].push(n),this.setState({selected_values:this.state.selected_values});else{var i=this.state.selected_values[a].filter((function(e){return e!==n})),s=this.state.selected_values;s[a]=i,this.setState({selected_values:s})}else{var r=this.state.selected_values;r[a]=[n],this.setState({selected_values:r})}}},{key:"checkBoxChanged",value:function(e){var t=e.target.value,a=e.target.title.split(";"),n=a[0],i=a[1],s=this.state.checkbox_values;s[n]?s[n][i]=t:s[n]=Object(j.a)({},i,t),this.setState({checkbox_values:s})}},{key:"createLegend",value:function(e){for(var t=[],a=0;a<e.names.length;a++){var n="fa fa-circle text-"+e.types[a];t.push(i.a.createElement("i",{className:n,key:a})),t.push(" "),t.push(e.names[a])}return t}},{key:"render",value:function(){var e=this,t=this.getFilterCategories(),a=this.getSelectedFilters();return i.a.createElement("div",{className:"content"},i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,{style:N.titleStyle},i.a.createElement(F.a,{lg:12,sm:8,style:N.titleText},i.a.createElement("div",null,"Please Select Your Filters to Create a Patient Cohort"))),i.a.createElement(B.a,{style:N.underTitleStyle},i.a.createElement(O,{style:N.buttonUpperSubmit,onClick:function(){return e.submitButtonPressed()}},"SUBMIT"),i.a.createElement(O,{style:N.buttonUpperReset,onClick:function(){return e.resetButtonPressed()}},"RESET")),i.a.createElement(B.a,null,i.a.createElement(F.a,{lg:3,sm:3,style:N.sideDivStyle},t),i.a.createElement(F.a,{lg:9,sm:6,style:N.mainDivStyle},i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,null,a))))))}}]),t}(n.Component)),N={titleStyle:{height:"10vh","margin-bottom":"2vh"},titleText:{display:"flex","align-items":"center","justify-content":"center","font-weight":"bold","font-size":"30px"},buttonDiv:{width:"100%",margin:"1vh","background-color":"white",color:"black",border:"solid 2px black"},buttonDivPressed:{width:"100%",margin:"1vh","background-color":"#78deec",color:"black",border:"solid 2px black"},sideDivStyle:{height:"80vh"},mainDivStyle:{height:"90vh"},mainDivCategoryStyle:{height:"20vh",overflow:"scroll",border:"solid 2px black",margin:"1vh"},mainDivButtonTitle:{display:"flex","justify-content":"center","font-weight":"bold","text-decoration":"underline"},underTitleStyle:{display:"flex","justify-content":"flex-end","align-items":"flex-end","padding-right":"16%"},buttonUpperSubmit:{width:"12em","margin-right":"1vh",color:"black",border:"solid 2px black","font-weight":"bold","background-color":"#a3ec9a"},buttonUpperReset:{width:"12em","margin-right":"1vh",color:"black",border:"solid 2px black","font-weight":"bold","background-color":"#ec585a"},inputStyle:{width:"100%",color:"lighgray"}},M=a(525),R=a(524),K=a(522),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={columns:a.props.columns,rows:a.props.rows},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"content"},i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,null,i.a.createElement(F.a,{md:12},i.a.createElement(K.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,variant:"dark"},i.a.createElement("thead",null,i.a.createElement("tr",null,this.state.columns.map((function(e,t){return i.a.createElement("th",{key:t,style:z.TableTitleStyle},e)})))),i.a.createElement("tbody",null,this.state.rows.map((function(e,t){return i.a.createElement("tr",{key:t},e.map((function(e,t){if(e.hasOwnProperty("type")){if(e.hasOwnProperty("type"))a=e.type,n=e.text}else var a=null,n=e.text;if("button"===a)var s=e.submitFunction,r=e.submitInformation;return"button"===a?i.a.createElement("td",{key:t},i.a.createElement(O,{style:z.button,onClick:function(){return s(r)}},n)):i.a.createElement("td",{key:t,style:z.TableFontStyle},n)})))}))))))))}}]),t}(n.Component),z={button:{margin:"1vh","background-color":"#d4d5d7",color:"black",border:"solid 5px black"},TableTitleStyle:{"font-weight":"bold",color:"black"},TableFontStyle:{color:"black"}},U=a(227),G=(a(314),a(315),a(454),a(39)),W={"Eye Diagnosis":"eye_diagnosis","Systemic Diagnosis":"systemic_diagnosis",Age:"age",Ethnicity:"ethnicity","Image Procedure Type":"image_procedure_type",Labs:"labs","Medication Generic Name":"medication_generic_name","Medication Therapuetic Name":"medication_therapuetic_name","Left Vision":"left_vision","Right Vision":"right_vision","Left Pressure":"left_pressure","Right Pressure":"right_pressure","Patient ID":"pt_id"};function q(e){return"object"===typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)}var V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={patientsIDs:[],patientInfo:[],filterCategories:["Patient ID"],selectedFilterCategories:[],tableKey:1,displayedMessage:"",exportPressed:{display:!1},paginationNumber:1},a._calculateAge=a._calculateAge.bind(Object(g.a)(a)),a.getPatients=a.getPatients.bind(Object(g.a)(a)),a.getData=a.getData.bind(Object(g.a)(a)),a.editData=a.editData.bind(Object(g.a)(a)),a.getFilters=a.getFilters.bind(Object(g.a)(a)),a.categoryFilterPressed=a.categoryFilterPressed.bind(Object(g.a)(a)),a.getTable=a.getTable.bind(Object(g.a)(a)),a.backButtonPressed=a.backButtonPressed.bind(Object(g.a)(a)),a.examsPagePressed=a.examsPagePressed.bind(Object(g.a)(a)),a.exportAllImagesPressed=a.exportAllImagesPressed.bind(Object(g.a)(a)),a.getExport=a.getExport.bind(Object(g.a)(a)),a.exportCategoryPressed=a.exportCategoryPressed.bind(Object(g.a)(a)),a.exportImagesPressed=a.exportImagesPressed.bind(Object(g.a)(a)),a.getFilterSummary=a.getFilterSummary.bind(Object(g.a)(a)),a.paginationClicked=a.paginationClicked.bind(Object(g.a)(a)),a.getPagination=a.getPagination.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getPatients()}},{key:"_calculateAge",value:function(e){var t=new Date,a=new Date(e),n=t.getFullYear()-a.getFullYear(),i=t.getMonth()-a.getMonth();return(i<0||0===i&&t.getDate()<a.getDate())&&n--,n}},{key:"getPatients",value:function(){if(this.props.pageStatus.PatientsPage){var e=this.props.pageStatus.PatientsPage,t={},a=this.state.filterCategories;for(var n in e){var i=e[n];if(q(i)){var s={};for(var r in i)try{var o=i[r];-1!==o.search("/")?"equal"===r?(s.less=o.substring(0,o.length-2)+(parseInt(o.substring(o.length-2,o.length))+1),s.more=o.substring(0,o.length-2)+(parseInt(o.substring(o.length-2,o.length))-1)):"between less"===r?s.more=o:"between greater"===r?s.less=o:"greater"===r?s.more=o:s[r]=o:(o=parseInt(o),"equal"===r?(s.less=o+1,s.more=o-1):"between less"===r?s.more=o:"between greater"===r?s.less=o:"greater"===r?s.more=o:s[r]=o)}catch(u){s[r]=i[r]}i=s}t[W[n]]=i,a.push(n)}a.push("Images");var l=this,c="Basic "+btoa(this.props.accessToken+":something");G({url:he+"/ssd_api/filter",method:"post",headers:{Authorization:c},data:{filters:t}}).then((function(e){l.setState({patientsIDs:e.data.result.pt_id},(function(){l.getData()}))})).catch((function(e){console.log(e),"Request failed with status code 401"===e.message&&l.props.backToLoginPage()})),this.setState({filterCategories:a,selectedFilterCategories:a})}}},{key:"getData",value:function(){var e=this,t=this.state.patientsIDs;for(var a in t){var n=t[a],i=he+"/ssd_api/patients?pt_id="+n.toString(),s="Basic "+btoa(this.props.accessToken+":something"),r={url:i,method:"get",headers:{Authorization:s}};G(r).then((function(t){var a=e.state.patientInfo;a.push(t.data.result),e.setState({patientInfo:a},(function(){e.editData()}))})).catch((function(t){console.log(t),"Request failed with status code 401"===t.message&&e.props.backToLoginPage()})),i=he+"/ssd_api/filter_table_with_ptid?pt_id="+n.toString()+"&table_name=pt_deid",G(r={url:i,method:"get",headers:{Authorization:s}}).then((function(t){var a=e.state.patientInfo;a.push(t.data.result),e.setState({patientInfo:a},(function(){e.editData()}))})).catch((function(t){console.log(t),"Request failed with status code 401"===t.message&&e.props.backToLoginPage()}))}}},{key:"getFilters",value:function(){for(var e=this,t=this.state.filterCategories,a=[],n=0;n<t.length;n++){var s=t[n],r=null;r=-1!==this.state.selectedFilterCategories.indexOf(s)?i.a.createElement(O,{style:X.buttonDivPressed,title:s,onClick:function(t){return e.categoryFilterPressed(t)}}," ",s," "):i.a.createElement(O,{style:X.buttonDiv,title:s,onClick:function(t){return e.categoryFilterPressed(t)}}," ",s," "),a.push(r)}return a}},{key:"editData",value:function(){if(2*this.state.patientsIDs.length===this.state.patientInfo.length){for(var e={},t=0;t<this.state.patientInfo.length;t++){var a=this.state.patientInfo[t],n=Object.keys(a);"data"!==n[0]&&(e[n[0]]=a[n[0]])}for(var i=0;i<this.state.patientInfo.length;i++){var s=this.state.patientInfo[i];if("data"===Object.keys(s)[0]){var r=s.data[0],o=r.pt_id,l=r.race_1,c=this._calculateAge(r.dob);e[o].ethnicity=l,e[o].age=c}}this.setState({patientInfo:e,loaded:"true"})}}},{key:"getTable",value:function(){var e=this,t=i.a.createElement(F.a,{style:X.titleText},i.a.createElement("div",null," No Patient Satisfies This Criteria "));if(!this.state.loaded||!this.state.patientInfo)return t;for(var a=this.state.patientInfo,n=[],s=[],r=5*(this.state.paginationNumber-1);r<Math.min(5*this.state.paginationNumber,this.state.patientsIDs.length);r++){for(var o=this.state.patientsIDs[r],l=[],c=0;c<this.state.filterCategories.length;c++){var u=this.state.filterCategories[c];if(-1!==this.state.selectedFilterCategories.indexOf(u)){var d={};if(-1===n.indexOf(u)&&n.push(u),"Patient ID"===u){d.type="button",d.text="PT ID: "+o+" History";var p={};Object.assign(p,this.props.pageStatus),p.PatientHistoryPage={patientID:o,patientInfo:a[o]};var g={page:"PatientHistoryPage",pageStatus:p};d.submitFunction=function(t){return e.props.changePage(t)},d.submitInformation=g,l.push(d)}else if("Images"===u){d.type="button",d.text="See Images";p={};Object.assign(p,this.props.pageStatus),p.PatientImagesPage={patientID:o};var h={page:"PatientImagesPage",pageStatus:p};d.submitFunction=function(t){return e.props.changePage(t)},d.submitInformation=h,l.push(d)}else{var m=W[u];"Image Procedure Type"===u&&(m="image_type");var b=a[o][m],f=[];if("left_vision"===m||"right_vision"===m){console.log(a[o]);var y=a[o].vision,v="LEFT";"right_vision"===m&&(v="RIGHT");for(var k=0;k<y.length;k++){var x=y[k];-1!==x.name.search(v)&&(f.push(x.date.substring(0,16)+": "+x.value),f.push(i.a.createElement("br",null)))}}else if(q(b))for(var E in b)null==b[E]?f.push(E):f.push(E+" ("+b[E].substring(0,16)+")"),f.push(i.a.createElement("br",null));else if(Object(U.isArray)(b))for(k=0;k<b.length;k++)k%4===3?(f.push(b[k]),f.push(i.a.createElement("br",null))):k===b.length-1?f.push(b[k]):f.push(b[k]+", ");else f=b;d.type="string",d.text=f,l.push(d)}}}s.push(l)}return 0===s.length?t:(this.state.tableKey++,i.a.createElement(H,{key:this.state.tableKey,columns:n,rows:s}))}},{key:"categoryFilterPressed",value:function(e){var t=e.target.title;if(-1===this.state.selectedFilterCategories.indexOf(t))this.state.selectedFilterCategories.push(t),this.setState({selectedFilterCategories:this.state.selectedFilterCategories,tableKey:this.state.tableKey+1});else{var a=this.state.selectedFilterCategories.filter((function(e){return e!==t}));this.setState({selectedFilterCategories:a,tableKey:this.state.tableKey+1})}}},{key:"backButtonPressed",value:function(){var e={page:"FilterPage",additionalInfo:this.props.additionalInfo};this.props.changePage(e)}},{key:"examsPagePressed",value:function(){var e=this.props.pageStatus;e.ExamsPage={patientsIDs:this.state.patientsIDs};var t={page:"ExamsPage",pageStatus:e};this.props.changePage(t)}},{key:"exportAllImagesPressed",value:function(){this.setState({exportPressed:{display:!this.state.exportPressed.display}})}},{key:"exportCategoryPressed",value:function(e){var t,a,n=e.target.title;this.state.exportPressed[n]?this.setState({exportPressed:(t={},Object(j.a)(t,n,!this.state.exportPressed.display),Object(j.a)(t,"display",!0),t)}):this.setState({exportPressed:(a={},Object(j.a)(a,n,!0),Object(j.a)(a,"display",!0),a)})}},{key:"exportImagesPressed",value:function(){return null}},{key:"getExport",value:function(){var e=this;return this.state.exportPressed.display?i.a.createElement("div",null,i.a.createElement(O,{style:X.buttonUpperExport,onClick:function(){return e.exportAllImagesPressed()}},"EXPORT ALL IMAGES"),i.a.createElement("div",{style:X.exportDropdownPressed},i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",title:"by Patient ID",onChange:function(t){return e.exportCategoryPressed(t)}}),"by Patient ID"),i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",title:"by diagnosis",onChange:function(t){return e.exportCategoryPressed(t)}}),"by diagnosis"),i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",title:"by image procedure",onChange:function(t){return e.exportCategoryPressed(t)}}),"by image procedure")),i.a.createElement(O,{style:X.buttonUpperExport,onClick:function(){return e.exportImagesPressed()}},"EXPORT IMAGES")):i.a.createElement(O,{style:X.buttonUpperExport,onClick:function(){return e.exportAllImagesPressed()}},"EXPORT ALL IMAGES")}},{key:"createLegend",value:function(e){for(var t=[],a=0;a<e.names.length;a++){var n="fa fa-circle text-"+e.types[a];t.push(i.a.createElement("i",{className:n,key:a})),t.push(" "),t.push(e.names[a])}return t}},{key:"getFilterSummary",value:function(){var e=this.props.pageStatus.FilterPage,t=[];for(var a in t.push(i.a.createElement("b",null,"You have selected these filters:")),t.push(i.a.createElement("br",null)),e){var n=a,s=": ",r=e[a];q(r)&&(r=Object.keys(r));for(var o=0;o<r.length;o++)0!==o&&(s+=", "),q(e[a])?s+=r[o]+": "+e[a][r[o]]:s+=r[o];t.push(i.a.createElement("b",null,i.a.createElement("u",null,n))),t.push(s),t.push(i.a.createElement("br",null))}return t}},{key:"paginationClicked",value:function(e){this.setState({paginationNumber:e.target.title})}},{key:"getPagination",value:function(){var e=this,t=[];if(!this.state.patientsIDs)return null;for(var a=0;a<this.state.patientsIDs.length/5;a++)a+1===this.state.paginationNumber?t.push(i.a.createElement(M.a.Item,{title:a+1,style:X.paginationActive,onClick:function(t){return e.paginationClicked(t)}},a+1)):t.push(i.a.createElement(M.a.Item,{title:a+1,onClick:function(t){return e.paginationClicked(t)}},a+1));return i.a.createElement(M.a,{style:X.paginationStyle},t)}},{key:"render",value:function(){var e=this,t=this.getFilterSummary(),a=this.getFilters(),n=this.getExport(),s=this.getTable(),r=this.getPagination();return i.a.createElement("div",{style:X.container},i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,{style:X.titleStyle},i.a.createElement(F.a,{style:X.titleText},i.a.createElement("div",null,"Your Patient Cohort"))),i.a.createElement(B.a,{style:X.summaryStyle},i.a.createElement(F.a,{style:X.summaryText},i.a.createElement("div",null,t),i.a.createElement("div",{style:X.underMainStyle},i.a.createElement(R.a,{style:X.buttonContainer,title:"TAKE AN ACTION"},i.a.createElement(O,{style:X.buttonUpperSubmit,onClick:function(){return e.backButtonPressed()}},"BACK TO FILTERS PAGE"),i.a.createElement(O,{style:X.buttonUpperReset,onClick:function(){return e.examsPagePressed()}},"GO TO EXAMS PAGE"),n)))),i.a.createElement(B.a,null,i.a.createElement(F.a,{sm:3,style:X.sideDivStyle},i.a.createElement(B.a,null,i.a.createElement(O,{style:X.buttonDivShow}," ","Shown"," "),i.a.createElement(O,{style:X.buttonDivHide}," ","Hidden"," ")),i.a.createElement(B.a,null,a)),i.a.createElement(F.a,{sm:9,style:X.mainDivStyle},i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,null,i.a.createElement("div",{style:X.tableStyle},s,r),i.a.createElement("div",{style:X.displayedMessageStyle},this.state.displayedMessage)))))))}}]),t}(n.Component),X={titleStyle:{height:"10vh"},titleText:{display:"flex","align-items":"center","justify-content":"center","font-weight":"bold","font-size":"30px"},summaryStyle:{"margin-bottom":"2vh"},summaryText:{display:"flex","align-items":"center","justify-content":"flex-end","margin-bottom":"2.1vh","margin-right":"3vh"},buttonDiv:{width:"100%",margin:"1vh","background-color":"white",color:"black",border:"solid 2px black"},buttonDivPressed:{width:"100%",margin:"1vh","background-color":"#78deec",color:"black",border:"solid 2px black"},buttonDivHide:{width:"45%","margin-top":"1vh","margin-bottom":"1vh","margin-left":"2vh","background-color":"white",color:"black",border:"solid 2px black"},buttonDivShow:{width:"45%",margin:"1vh","background-color":"#78deec",color:"black",border:"solid 2px black"},mainDivCategoryStyle:{height:"20vh",overflow:"scroll",border:"solid 2px black",margin:"1vh"},mainDivButtonTitle:{display:"flex","justify-content":"center","font-weight":"bold","text-decoration":"underline"},mainDivStyle:{"max-height":"75vh","max-width":"120vh"},underMainStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","padding-right":"1vh","margin-left":"10vh"},buttonUpperSubmit:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","margin-top":"1vh"},buttonUpperReset:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","margin-top":"1vh"},buttonUpperExport:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","margin-top":"1vh","margin-bottom":"1vh"},buttonContainer:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","background-color":"#eef27c"},displayedMessageStyle:{display:"flex","justify-content":"flex-start",color:"black","font-size":"16px","font-weight":"bold","margin-left":"3%"},paginationStyle:{"margin-left":"2vh","margin-top":"0vh"},paginationActive:{color:"yellow"}},J=a(39),Y={"Patient ID":"pt_id","Image Info":"images","Exam ID":"exam_id","Exam Date":"exam_date"},Z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={patientsIDs:[],patientInfo:[],filterCategories:["Patient ID","Image Info","Exam ID","Exam Date","Exam Links"],selectedFilterCategories:["Patient ID","Image Info","Exam ID","Exam Date","Exam Links"],tableKey:1,exportPressed:{display:!1},paginationNumber:1},a.getData=a.getData.bind(Object(g.a)(a)),a.editData=a.editData.bind(Object(g.a)(a)),a.getFilters=a.getFilters.bind(Object(g.a)(a)),a.categoryFilterPressed=a.categoryFilterPressed.bind(Object(g.a)(a)),a.backButtonPressed=a.backButtonPressed.bind(Object(g.a)(a)),a.exportAllImagesPressed=a.exportAllImagesPressed.bind(Object(g.a)(a)),a.getExport=a.getExport.bind(Object(g.a)(a)),a.exportCategoryPressed=a.exportCategoryPressed.bind(Object(g.a)(a)),a.exportImagesPressed=a.exportImagesPressed.bind(Object(g.a)(a)),a.paginationClicked=a.paginationClicked.bind(Object(g.a)(a)),a.getPagination=a.getPagination.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.pageStatus.ExamsPage&&this.setState({patientsIDs:this.props.pageStatus.ExamsPage.patientsIDs},(function(){return e.getData()}))}},{key:"getData",value:function(){for(var e=this,t=0;t<this.state.patientsIDs.length;t++){var a=this.state.patientsIDs[t],n=he+"/ssd_api/patient_images?pt_id="+a,i="Basic "+btoa(this.props.accessToken+":something");J({url:n,method:"get",headers:{Authorization:i}}).then((function(t){var a=e.state.patientInfo;a.push(t.data.result),e.setState({patientInfo:a},(function(){e.editData()}))})).catch((function(t){console.log(t),"Request failed with status code 401"===t.message&&e.props.backToLoginPage()}))}}},{key:"getFilters",value:function(){for(var e=this,t=this.state.filterCategories,a=[],n=0;n<t.length;n++){var s=t[n],r=null;r=-1!==this.state.selectedFilterCategories.indexOf(s)?i.a.createElement(O,{style:$.buttonDivPressed,title:s,onClick:function(t){return e.categoryFilterPressed(t)}}," ",s," "):i.a.createElement(O,{style:$.buttonDiv,title:s,onClick:function(t){return e.categoryFilterPressed(t)}}," ",s," "),a.push(r)}return a}},{key:"editData",value:function(){if(this.state.patientsIDs.length===this.state.patientInfo.length){for(var e={},t=0;t<this.state.patientInfo.length;t++){var a=this.state.patientInfo[t],n=Object.keys(a);e[n[0]]=a[n[0]]}this.setState({patientInfo:e,loaded:"true"})}}},{key:"categoryFilterPressed",value:function(e){var t=e.target.title;if(-1===this.state.selectedFilterCategories.indexOf(t))this.state.selectedFilterCategories.push(t),this.setState({selectedFilterCategories:this.state.selectedFilterCategories,tableKey:this.state.tableKey+1});else{var a=this.state.selectedFilterCategories.filter((function(e){return e!==t}));this.setState({selectedFilterCategories:a,tableKey:this.state.tableKey+1})}}},{key:"getTable",value:function(){var e=this,t=i.a.createElement(F.a,{style:$.titleText},i.a.createElement("div",null," No Exams Satisfies This Criteria "));if(!this.state.loaded||!this.state.patientInfo)return t;for(var a=this.state.patientInfo,n=[],s=[],r=0;r<this.state.patientsIDs.length;r++)for(var o=this.state.patientsIDs[r],l=0;l<a[o].length;l++){for(var c=a[o][l],u=[],d=[],p=0;p<this.state.filterCategories.length;p++){var g={},h=this.state.filterCategories[p];if(-1!==this.state.selectedFilterCategories.indexOf(h))if(-1===n.indexOf(h)&&n.push(h),"Patient ID"===h){g.type="button",g.text=o;var m=this.props.pageStatus;m.PatientHistoryPage={patientID:o,patientInfo:a[o]};var b={page:"PatientHistoryPage",pageStatus:m};g.submitFunction=function(t){return e.props.changePage(t)},g.submitInformation=b,d.push(g)}else if("Exam Links"===h)u=c.exam_id,g.text=u,g.type="button",g.submitFunction=function(){},g.submitInformation=null,d.push(g);else if("Image Info"===h){var f=[],y=c[Y[h]],v=y[y.length-1];0===y.length?(g.type="string",g.text="",d.push(g)):(f.push("Image ID (First): "+(v.image_id-v.image_num+1)),f.push(i.a.createElement("br",null)),f.push("# of Images: "+v.image_num),f.push(i.a.createElement("br",null)),f.push("Image Laterality: "+v.image_laterality),f.push(i.a.createElement("br",null)),f.push("Image Type: "+v.image_type),g.type="string",g.text=f,d.push(g))}else g.type="string",g.text=c[Y[h]],d.push(g)}s.push(d)}var k=[];for(r=5*(this.state.paginationNumber-1);r<Math.min(5*this.state.paginationNumber,s.length);r++)k.push(s[r]);return this.state.tableKey++,i.a.createElement(H,{key:this.state.tableKey,columns:n,rows:k})}},{key:"backButtonPressed",value:function(){this.props.changePage({page:"PatientsPage"})}},{key:"exportAllImagesPressed",value:function(){this.setState({exportPressed:{display:!this.state.exportPressed.display}})}},{key:"exportCategoryPressed",value:function(e){var t,a,n=e.target.title;this.state.exportPressed[n]?this.setState({exportPressed:(t={},Object(j.a)(t,n,!this.state.exportPressed.display),Object(j.a)(t,"display",!0),t)}):this.setState({exportPressed:(a={},Object(j.a)(a,n,!0),Object(j.a)(a,"display",!0),a)})}},{key:"exportImagesPressed",value:function(){}},{key:"getExport",value:function(){var e=this;return this.state.exportPressed.display?i.a.createElement("div",null,i.a.createElement(O,{style:$.buttonUpperExport,onClick:function(){return e.exportAllImagesPressed()}},"EXPORT ALL IMAGES"),i.a.createElement("div",{style:$.exportDropdownPressed},i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",title:"by Patient ID",onChange:function(t){return e.exportCategoryPressed(t)}}),"by Patient ID"),i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",title:"by diagnosis",onChange:function(t){return e.exportCategoryPressed(t)}}),"by diagnosis"),i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",title:"by image procedure",onChange:function(t){return e.exportCategoryPressed(t)}}),"by image procedure")),i.a.createElement(O,{style:$.buttonUpperExport,onClick:function(){return e.exportImagesPressed()}},"EXPORT IMAGES")):i.a.createElement(O,{style:$.buttonUpperExport,onClick:function(){return e.exportAllImagesPressed()}},"EXPORT ALL IMAGES")}},{key:"paginationClicked",value:function(e){this.setState({paginationNumber:e.target.title})}},{key:"getPagination",value:function(){var e=this,t=[];if(!this.state.patientInfo)return null;for(var a=0;a<Object.keys(this.state.patientInfo).length/5;a++)a+1===this.state.paginationNumber?t.push(i.a.createElement(M.a.Item,{title:a+1,style:$.paginationActive,onClick:function(t){return e.paginationClicked(t)}},a+1)):t.push(i.a.createElement(M.a.Item,{title:a+1,onClick:function(t){return e.paginationClicked(t)}},a+1));return i.a.createElement(M.a,{style:$.paginationStyle},t)}},{key:"render",value:function(){var e=this,t=this.getFilters(),a=this.getExport(),n=this.getTable(),s=this.getPagination();return console.log("ExamsPage",this.state),i.a.createElement("div",null,i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,{style:$.titleStyle},i.a.createElement(F.a,{lg:12,sm:8,style:$.titleText},i.a.createElement("div",null,"Your Exams For Patients"))),i.a.createElement(B.a,{style:$.summaryStyle},i.a.createElement(F.a,{style:$.summaryText},i.a.createElement("div",{style:$.underMainStyle},i.a.createElement(R.a,{style:$.buttonContainer,title:"TAKE AN ACTION"},i.a.createElement(O,{style:$.buttonUpperBack,onClick:function(){return e.backButtonPressed()}},"BACK TO PATIENTS PAGE"),a)))),i.a.createElement(B.a,null,i.a.createElement(F.a,{sm:3},i.a.createElement(B.a,null,i.a.createElement(O,{style:$.buttonDivShow}," ","Shown"," "),i.a.createElement(O,{style:$.buttonDivHide}," ","Hidden"," ")),i.a.createElement(B.a,null,t)),i.a.createElement(F.a,{sm:9},i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,null,i.a.createElement("div",{style:$.mainDivStyle},n,s)))))))}}]),t}(n.Component),$={titleStyle:{height:"10vh","margin-bottom":"2vh"},titleText:{display:"flex","align-items":"center","justify-content":"center","font-weight":"bold","font-size":"30px"},buttonDiv:{width:"100%",margin:"1vh","background-color":"white",color:"black",border:"solid 2px black"},buttonDivPressed:{width:"100%",margin:"1vh","background-color":"#78deec",color:"black",border:"solid 2px black"},buttonDivHide:{width:"45%","margin-top":"1vh","margin-bottom":"1vh","margin-left":"2vh","background-color":"white",color:"black",border:"solid 2px black"},buttonDivShow:{width:"45%",margin:"1vh","background-color":"#78deec",color:"black",border:"solid 2px black"},underMainStyle:{display:"flex","flex-direction":"column","justify-content":"flex-end","align-items":"flex-end","padding-right":"2vh"},mainDivStyle:{"margin-top":"1vh"},buttonUpperBack:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","margin-top":"1vh"},buttonUpperExport:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","margin-top":"1vh","margin-bottom":"1vh"},buttonContainer:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","background-color":"#eef27c"},paginationStyle:{"margin-left":"2vh","margin-top":"0vh"},paginationActive:{color:"yellow"}},Q=a(39),ee=["Date","Eye Diagnosis","Systemic Diagnosis","Labs","Medication Generic Name","Medication Therapuetic Name","Vision","Pressure","Exam ID"],te={"Eye Diagnosis":"eye_diagnosis","Systemic Diagnosis":"systemic_diagnosis",Age:"age",Ethnicity:"ethnicity","Image Procedure Type":"image_type",Labs:"lab_values","Medication Generic Name":"medication_generic_name","Medication Therapuetic Name":"medication_therapuetic_name","Left Vision":"left_vision","Right Vision":"right_vision","Left Pressure":"left_pressure","Right Pressure":"right_pressure",Date:"date","Exam ID":"exam_id"},ae={};for(var ne in te)ae[te[ne]]=ne;var ie=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={patientID:null,filterCategories:ee,selectedFilterCategories:ee,tableKey:1,exportPressed:{display:!1},paginationNumber:1},a.getData=a.getData.bind(Object(g.a)(a)),a.editData=a.editData.bind(Object(g.a)(a)),a.getFilters=a.getFilters.bind(Object(g.a)(a)),a.categoryFilterPressed=a.categoryFilterPressed.bind(Object(g.a)(a)),a.getTables=a.getTables.bind(Object(g.a)(a)),a.getSummaryTable=a.getSummaryTable.bind(Object(g.a)(a)),a.backButtonPressed=a.backButtonPressed.bind(Object(g.a)(a)),a.imagesButtonPressed=a.imagesButtonPressed.bind(Object(g.a)(a)),a.paginationClicked=a.paginationClicked.bind(Object(g.a)(a)),a.getPagination=a.getPagination.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.pageStatus.PatientHistoryPage&&this.setState({patientID:this.props.pageStatus.PatientHistoryPage.patientID},(function(){return e.getData()}))}},{key:"getData",value:function(){var e=this,t=this.state.patientID,a=he+"/ssd_api/patients?pt_id="+t,n="Basic "+btoa(this.props.accessToken+":something");Q({url:a,method:"get",headers:{Authorization:n}}).then((function(a){var n=a.data.result[t];e.setState({patientInfo:n},(function(){e.editData()}))})).catch((function(t){console.log(t),"Request failed with status code 401"===t.message&&e.props.backToLoginPage()}))}},{key:"editData",value:function(){if(this.state.patientInfo){var e,t={},a=[],n=null;for(var i in this.state.patientInfo)if("eye_diagnosis"===i||"systemic_diagnosis"===i)for(var s in this.state.patientInfo[i])null!==this.state.patientInfo[i][s]&&(t[a=this.state.patientInfo[i][s].substring(0,16)]={});else if("object"===typeof this.state.patientInfo[i])for(var r=0;r<this.state.patientInfo[i].length;r++)"object"!==typeof(e=this.state.patientInfo[i][r])||null===e||e instanceof Array||e instanceof Date||!this.state.patientInfo[i][r].date||(t[a=this.state.patientInfo[i][r].date.substring(0,16)]={});for(var o in this.state.patientInfo)if("eye_diagnosis"===o||"systemic_diagnosis"===o)for(var l in this.state.patientInfo[o])null!=this.state.patientInfo[o][l]&&t[a=this.state.patientInfo[o][l].substring(0,16)]&&(t[a][ae[o]]=l);else if("vision"===o||"pressure"===o){var c=null,u=null;"vision"===o?(c="Left Vision",u="Right Vision"):(c="Left Pressure",u="Right Pressure");for(var d=0;d<this.state.patientInfo[o].length;d++)this.state.patientInfo[o][d].date&&(a=this.state.patientInfo[o][d].date.substring(0,16),n=u,-1!==this.state.patientInfo[o][d].name.search("LEFT")&&(n=c),t[a][n]=this.state.patientInfo[o][d].value)}else if("lab_values"===o)for(var p=0;p<this.state.patientInfo[o].length;p++)this.state.patientInfo[o][p].date&&(a=this.state.patientInfo[o][p].date.substring(0,16),n=ae[o],t[a][n]={"Lab Name":this.state.patientInfo[o][p].lab_name,"Lab Value":this.state.patientInfo[o][p].lab_value});else if("medication"===o)for(var g=0;g<this.state.patientInfo[o].length;g++)this.state.patientInfo[o][g].date&&(t[a=this.state.patientInfo[o][g].date.substring(0,16)]["Medication Generic Name"]=this.state.patientInfo[o][g].generic_name,t[a]["Medication Therapeutic Name"]=this.state.patientInfo[o][g].therapeutic_class);this.setState({patientInfo:t,loaded:"true"})}}},{key:"getFilters",value:function(){for(var e=this,t=this.state.filterCategories,a=[],n=0;n<t.length;n++){var s=t[n];if("Date"!==s){var r=null;r=-1!==this.state.selectedFilterCategories.indexOf(s)?i.a.createElement(O,{style:se.buttonDivPressed,title:s,onClick:function(t){return e.categoryFilterPressed(t)}}," ",s," "):i.a.createElement(O,{style:se.buttonDiv,title:s,onClick:function(t){return e.categoryFilterPressed(t)}}," ",s," "),a.push(r)}}return a}},{key:"categoryFilterPressed",value:function(e){var t=e.target.title;if("Date"!==t)if(-1===this.state.selectedFilterCategories.indexOf(t))this.state.selectedFilterCategories.push(t),this.setState({selectedFilterCategories:this.state.selectedFilterCategories,tableKey:this.state.tableKey+1});else{var a=this.state.selectedFilterCategories.filter((function(e){return e!==t}));this.setState({selectedFilterCategories:a,tableKey:this.state.tableKey+1})}}},{key:"getTables",value:function(){var e=i.a.createElement(F.a,{style:se.titleText},i.a.createElement("div",null," You Have Not Selected A Patent  "));if(!this.state.loaded||!this.state.patientInfo)return[e,null];for(var t=[],a=0;a<this.state.filterCategories.length;a++){var n=this.state.filterCategories[a];-1!==this.state.selectedFilterCategories.indexOf(n)&&("Vision"===n||"Pressure"===n?(t.push("Left "+n),t.push("Right "+n)):t.push(n))}var s=this.state.patientInfo,r=[];for(var o in s){var l=s[o],c=[],u=!0;-1!==t.indexOf("Date")&&(c=[{type:"string",text:o}]);for(var d=1;d<t.length;d++){var p=t[d],g={type:"string",text:""},h=l[p];if(h){u=!1;var m=[];if("Date"===p)continue;if("Labs"===p)for(var b in h){var f=h[b];b&&f?(m.push(b+": "+f),m.push(i.a.createElement("br",null))):b&&(m.push(b+": undefined"),m.push(i.a.createElement("br",null)))}else m=h;g.text=m,c.push(g)}else c.push(g)}u||r.push(c)}r.sort((function(e,t){return function(e,t){var a=parseInt(e.substring(12,16)),n=e.substring(8,11),i=parseInt(e.substring(5,7)),s=parseInt(t.substring(12,16)),r=t.substring(8,11),o=parseInt(t.substring(5,7)),l={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};return a!==s?a-s:l[n]!==l[r]?l[n]-l[r]:i!==o?i-o:0}(t[0].text,e[0].text)}));for(var y=[],v=4*(this.state.paginationNumber-1);v<Math.min(4*this.state.paginationNumber,r.length);v++)y.push(r[v]);return this.state.tableKey++,[i.a.createElement(H,{key:this.state.tableKey,columns:t,rows:y}),this.getSummaryTable(r[0])]}},{key:"getSummaryTable",value:function(e){if(!e||!e[0])return null;var t=["Date","Eye Diagnosis","Systemic Diagnosis","Age","Ethnicity","Image Procedure Type","Labs","Medication Generic Name","Medication Therapuetic Name","Left Vision","Right Vision","Left Pressure","Right Pressure","Exam ID"],a=e[0].text;e=this.state.patientInfo[a];var n=this.props.pageStatus.PatientHistoryPage.patientInfo;e.Ethnicity=n.ethnicity,e["Image Procedure Type"]=n.image_type,e.Age=n.age,e.Date=a;for(var s,r=[],o=0;o<t.length;o++){var l=t[o],c={type:"string",text:e[l]},u=[];if("object"===typeof e[l]){for(var d=0;d<e[l].length;d++)u.push(e[l][d]),u.push(i.a.createElement("br",null));c.text=u}r.push(c)}return s=[r],i.a.createElement(H,{columns:t,rows:s})}},{key:"backButtonPressed",value:function(){this.props.changePage({page:"PatientsPage"})}},{key:"imagesButtonPressed",value:function(){var e=this.props.pageStatus;e.PatientImagesPage={patientID:this.state.patientID};var t={page:"PatientImagesPage",pageStatus:e};this.props.changePage(t)}},{key:"paginationClicked",value:function(e){this.setState({paginationNumber:e.target.title})}},{key:"getPagination",value:function(){var e=this,t=[];if(!this.state.patientInfo)return null;for(var a=0;a<Object.keys(this.state.patientInfo).length/4;a++)a+1===this.state.paginationNumber?t.push(i.a.createElement(M.a.Item,{title:a+1,style:se.paginationActive,onClick:function(t){return e.paginationClicked(t)}},a+1)):t.push(i.a.createElement(M.a.Item,{title:a+1,onClick:function(t){return e.paginationClicked(t)}},a+1));return i.a.createElement(M.a,{style:se.paginationStyle},t)}},{key:"render",value:function(){var e=this,t=this.getFilters(),a=this.getTables(),n=null,s=null,r=this.getPagination();return a&&(n=a[0],s=a[1]),i.a.createElement("div",null,i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,{style:se.titleStyle},i.a.createElement(F.a,{lg:12,sm:8,style:se.titleText},i.a.createElement("div",null,"Individual Patient History ID: ",this.state.patientID))),i.a.createElement(B.a,{style:se.summaryStyle},i.a.createElement(F.a,{style:se.summaryText},i.a.createElement("div",{style:se.underMainStyle},i.a.createElement(R.a,{style:se.buttonContainer,title:"TAKE AN ACTION"},i.a.createElement(O,{style:se.buttonUpperBack,onClick:function(){return e.backButtonPressed()}},"BACK TO PATIENTS PAGE"),i.a.createElement(O,{style:se.buttonUpperImages,onClick:function(){return e.imagesButtonPressed()}},"SEE ALL PATIENTS IMAGES"))))),i.a.createElement(B.a,null,i.a.createElement(F.a,{sm:3},i.a.createElement(B.a,null,i.a.createElement(O,{style:se.buttonDivShow}," ","Shown"," "),i.a.createElement(O,{style:se.buttonDivHide}," ","Hidden"," ")),i.a.createElement(B.a,null,t)),i.a.createElement(F.a,{sm:9},i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,{style:se.underTitleStyle},s),i.a.createElement(B.a,null,i.a.createElement("div",{style:se.mainDivStyle},n,r)))))))}}]),t}(n.Component),se={titleStyle:{height:"10vh","margin-bottom":"2vh"},titleText:{display:"flex","align-items":"center","justify-content":"center","font-weight":"bold","font-size":"30px"},buttonDiv:{width:"100%",margin:"1vh","background-color":"white",color:"black",border:"solid 2px black"},buttonDivPressed:{width:"100%",margin:"1vh","background-color":"#78deec",color:"black",border:"solid 2px black"},buttonDivHide:{width:"45%","margin-top":"1vh","margin-bottom":"1vh","margin-left":"2vh","background-color":"white",color:"black",border:"solid 2px black"},buttonDivShow:{width:"45%",margin:"1vh","background-color":"#78deec",color:"black",border:"solid 2px black"},mainDivStyle:{"max-width":"120vh",overflow:"scroll"},underTitleStyle:{"max-width":"120vh",overflow:"scroll","margin-top":"1vh"},underMainStyle:{display:"flex","flex-direction":"column","justify-content":"flex-end","align-items":"flex-end","padding-right":"2vh"},buttonUpperBack:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","margin-top":"1vh"},buttonContainer:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","background-color":"#eef27c"},buttonUpperImages:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","margin-top":"1vh","margin-bottom":"1vh"},paginationStyle:{"margin-left":"2vh","margin-top":"0vh"},paginationActive:{color:"yellow"}},re=a(39),oe=["Exam ID","Exam Date","Image ID","Image Procedure","Image Laterality","Link To Image"],le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={patientID:null,filterCategories:oe,selectedFilterCategories:oe,exportPressed:{display:!1},tableKey:0,paginationNumber:1},a.getData=a.getData.bind(Object(g.a)(a)),a.getFilters=a.getFilters.bind(Object(g.a)(a)),a.getTable=a.getTable.bind(Object(g.a)(a)),a.getExport=a.getExport.bind(Object(g.a)(a)),a.exportImagesPressed=a.exportImagesPressed.bind(Object(g.a)(a)),a.exportAllImagesPressed=a.exportAllImagesPressed.bind(Object(g.a)(a)),a.exportCategoryPressed=a.exportCategoryPressed.bind(Object(g.a)(a)),a.backButtonPressed=a.backButtonPressed.bind(Object(g.a)(a)),a.categoryFilterPressed=a.categoryFilterPressed.bind(Object(g.a)(a)),a.paginationClicked=a.paginationClicked.bind(Object(g.a)(a)),a.getPagination=a.getPagination.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.pageStatus.PatientImagesPage&&this.setState({patientID:this.props.pageStatus.PatientImagesPage.patientID},(function(){return e.getData()}))}},{key:"getData",value:function(){var e=this,t=this.state.patientID,a=he+"/ssd_api/patient_images?pt_id="+t,n="Basic "+btoa(this.props.accessToken+":something");re({url:a,method:"get",headers:{Authorization:n}}).then((function(a){console.log("PATIENT INFO GATHERED",a.data);var n=a.data.result[t];e.setState({patientInfo:n,loaded:!0})})).catch((function(t){console.log(t),"Request failed with status code 401"===t.message&&e.props.backToLoginPage()}))}},{key:"getFilters",value:function(){for(var e=this,t=this.state.filterCategories,a=[],n=0;n<t.length;n++){var s=t[n],r=null;r=-1!==this.state.selectedFilterCategories.indexOf(s)?i.a.createElement(O,{style:ce.buttonDivPressed,title:s,onClick:function(t){return e.categoryFilterPressed(t)}}," ",s," "):i.a.createElement(O,{style:ce.buttonDiv,title:s,onClick:function(t){return e.categoryFilterPressed(t)}}," ",s," "),a.push(r)}return a}},{key:"getTable",value:function(){var e=this,t=i.a.createElement(F.a,{style:ce.titleText},i.a.createElement("div",null," No Images Satisfies This Criteria "));if(!this.state.loaded||!this.state.patientInfo)return t;for(var a=[],n=0;n<this.state.filterCategories.length;n++){var s=this.state.filterCategories[n];-1!==this.state.selectedFilterCategories.indexOf(s)&&a.push(s)}for(var r=[],o=0;o<this.state.patientInfo.length;o++){for(var l=this.state.patientInfo[o],c=[],u=0;u<l.images.length;u++)c.push([]);for(var d=0;d<a.length;d++){var p=a[d];if("Exam ID"===p)for(var g=0;g<c.length;g++){var h={type:"string",text:l.exam_id};c[g].push(h)}else if("Exam Date"===p)for(var m=0;m<c.length;m++){var b={type:"string",text:l.exam_date};c[m].push(b)}else if("Image ID"===p)for(var f=0;f<l.images.length;f++){var y={type:"string",text:l.images[f].image_id};c[f].push(y)}else if("Image Procedure"===p)for(var v=0;v<l.images.length;v++){var k={type:"string",text:l.images[v].image_type};c[v].push(k)}else if("Image Laterality"===p)for(var x=0;x<l.images.length;x++){var E={type:"string",text:l.images[x].image_laterality};c[x].push(E)}else if("Link To Image"===p)for(var P=0;P<l.images.length;P++){var S=this.props.pageStatus;S.ShowPatientImagePage={imageID:l.images[P].image_id,patientID:this.state.patientID};var C={type:"button",text:"See Image",submitFunction:function(t){return e.props.changePage(t)},submitInformation:{page:"ShowPatientImagePage",pageStatus:S}};c[P].push(C)}}for(var I=0;I<c.length;I++)r.push(c[I])}for(var w=[],D=5*(this.state.paginationNumber-1);D<Math.min(5*this.state.paginationNumber,r.length);D++)w.push(r[D]);return this.state.tableKey++,i.a.createElement(H,{key:this.state.tableKey,columns:a,rows:w})}},{key:"exportImagesPressed",value:function(){}},{key:"categoryFilterPressed",value:function(e){var t=e.target.title;if(-1===this.state.selectedFilterCategories.indexOf(t))this.state.selectedFilterCategories.push(t),this.setState({selectedFilterCategories:this.state.selectedFilterCategories,tableKey:this.state.tableKey+1});else{var a=this.state.selectedFilterCategories.filter((function(e){return e!==t}));this.setState({selectedFilterCategories:a,tableKey:this.state.tableKey+1})}}},{key:"exportAllImagesPressed",value:function(){this.setState({exportPressed:{display:!this.state.exportPressed.display}})}},{key:"getExport",value:function(){var e=this;return this.state.exportPressed.display?i.a.createElement("div",null,i.a.createElement(O,{style:ce.buttonUpperExport,onClick:function(){return e.exportAllImagesPressed()}},"EXPORT ALL IMAGES"),i.a.createElement("div",{style:ce.exportDropdownPressed},i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",title:"by Patient ID",onChange:function(t){return e.exportCategoryPressed(t)}}),"by Patient ID"),i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",title:"by diagnosis",onChange:function(t){return e.exportCategoryPressed(t)}}),"by diagnosis"),i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",title:"by image procedure",onChange:function(t){return e.exportCategoryPressed(t)}}),"by image procedure")),i.a.createElement(O,{style:ce.buttonUpperExport,onClick:function(){return e.exportImagesPressed()}},"EXPORT IMAGES")):i.a.createElement(O,{style:ce.buttonUpperExport,onClick:function(){return e.exportAllImagesPressed()}},"EXPORT ALL IMAGES")}},{key:"exportCategoryPressed",value:function(e){var t,a,n=e.target.title;this.state.exportPressed[n]?this.setState({exportPressed:(t={},Object(j.a)(t,n,!this.state.exportPressed.display),Object(j.a)(t,"display",!0),t)}):this.setState({exportPressed:(a={},Object(j.a)(a,n,!0),Object(j.a)(a,"display",!0),a)})}},{key:"backButtonPressed",value:function(){var e={page:"PatientsPage",additionalInfo:this.props.pageStatus.FilterPage};this.props.changePage(e)}},{key:"paginationClicked",value:function(e){this.setState({paginationNumber:e.target.title})}},{key:"getPagination",value:function(){var e=this,t=[];if(!this.state.patientInfo)return null;for(var a=0;a<Object.keys(this.state.patientInfo).length/5;a++)a+1===this.state.paginationNumber?t.push(i.a.createElement(M.a.Item,{title:a+1,style:ce.paginationActive,onClick:function(t){return e.paginationClicked(t)}},a+1)):t.push(i.a.createElement(M.a.Item,{title:a+1,onClick:function(t){return e.paginationClicked(t)}},a+1));return i.a.createElement(M.a,{style:ce.paginationStyle},t)}},{key:"render",value:function(){var e=this,t=this.getFilters(),a=this.getTable(),n=this.getExport(),s=this.getPagination();return console.log("Patients Images Page",this.state),i.a.createElement("div",null,i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,{style:ce.titleStyle},i.a.createElement(F.a,{lg:12,sm:8,style:ce.titleText},i.a.createElement("div",null,"Individual Patient Images ID: ",this.state.patientID))),i.a.createElement(B.a,{style:ce.summaryStyle},i.a.createElement(F.a,{style:ce.summaryText},i.a.createElement("div",{style:ce.underMainStyle},i.a.createElement(R.a,{style:ce.buttonContainer,title:"TAKE AN ACTION"},i.a.createElement(O,{style:ce.buttonUpperBack,onClick:function(){return e.backButtonPressed()}},"BACK TO PATIENTS PAGE"),n)))),i.a.createElement(B.a,null,i.a.createElement(F.a,{sm:3},i.a.createElement(B.a,null,i.a.createElement(O,{style:ce.buttonDivShow}," ","Shown"," "),i.a.createElement(O,{style:ce.buttonDivHide}," ","Hidden"," ")),i.a.createElement(B.a,null,t)),i.a.createElement(F.a,{sm:9},i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,null,i.a.createElement("div",{style:ce.mainDivStyle},a,s)))))))}}]),t}(n.Component),ce={titleStyle:{height:"10vh","margin-bottom":"2vh"},titleText:{display:"flex","align-items":"center","justify-content":"center","font-weight":"bold","font-size":"30px"},buttonDiv:{width:"100%",margin:"1vh","background-color":"white",color:"black",border:"solid 2px black"},buttonDivPressed:{width:"100%",margin:"1vh","background-color":"#78deec",color:"black",border:"solid 2px black"},buttonDivHide:{width:"45%","margin-top":"1vh","margin-bottom":"1vh","margin-left":"2vh","background-color":"white",color:"black",border:"solid 2px black"},buttonDivShow:{width:"45%",margin:"1vh","background-color":"#78deec",color:"black",border:"solid 2px black"},mainDivStyle:{"max-width":"120vh","margin-top":"1vh"},underMainStyle:{display:"flex","flex-direction":"column","justify-content":"flex-end","align-items":"flex-end","padding-right":"2vh"},buttonUpperBack:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","margin-top":"1vh"},buttonContainer:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","background-color":"#eef27c"},buttonUpperExport:{width:"40vh",color:"black",border:"solid 2px black","font-weight":"bold","margin-top":"1vh","margin-bottom":"1vh"},paginationStyle:{"margin-left":"2vh","margin-top":"0vh"},paginationActive:{color:"yellow"}},ue=a(232),de=a(477),pe=(a(39),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={imageID:a.props.pageStatus.ShowPatientImagePage.imageID},a.backButtonPressed=a.backButtonPressed.bind(Object(g.a)(a)),a.downloadButtonPressed=a.downloadButtonPressed.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"backButtonPressed",value:function(){this.props.changePage({page:"PatientImagesPage"})}},{key:"downloadButtonPressed",value:function(){var e=new de;e.file("Hello.txt","Hello World\n");e.folder("images").file("../demo/images/samplePicture.jpg",{uri:"../demo/images/samplePicture.jpg"},{base64:!0}),e.generateAsync({type:"blob"}).then((function(e){Object(ue.saveAs)(e,"example.zip")}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(P.a,{fluid:!0},i.a.createElement(B.a,{style:ge.mainDivContainer},i.a.createElement(F.a,{lg:6,sm:3,style:ge.mainDivPicture},i.a.createElement("img",{src:a(516),style:ge.image})),i.a.createElement(F.a,{lg:4,sm:6,style:ge.mainDivButtons},i.a.createElement(O,{style:ge.buttonUpperBack,onClick:function(){return e.backButtonPressed()}},"BACK TO IMAGES PAGE"),i.a.createElement(O,{style:ge.buttonUpperDownload,onClick:function(){return e.downloadButtonPressed()}},"DOWNLOAD IMAGE")))))}}]),t}(n.Component)),ge={mainDivContainer:{height:"85vh","margin-bottom":"2vh"},mainDivPicture:{width:"80vh",height:"96vh",margin:"2vh",display:"flex","align-items":"center","justify-content":"center"},buttonUpperBack:{width:"30vh",color:"black",border:"solid 2px black","font-weight":"bold","background-color":"#eef27c",margin:"2vh"},buttonUpperDownload:{width:"30vh",color:"black",border:"solid 2px black","font-weight":"bold","background-color":"#eef27c",margin:"2vh"},mainDivButtons:{display:"flex","flex-direction":"row"},image:{height:"100%"}},he="https://tigernie.com",me={PatientsPage:null,FilterPage:null,PatientHistoryPage:null,PatientImagesPage:null,ExamsPage:null},be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={page:"FilterPage",additionalInfo:null,pageStatus:me,accessToken:a.props.accessToken,backToLoginPage:a.props.backToLoginPage},a.pageSelector=a.pageSelector.bind(Object(g.a)(a)),a.changePage=a.changePage.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=null,t=this.props.location.pathname;"/admin/filters"===t?e="FilterPage":"/admin/cohort"===t?e="PatientsPage":"/admin/history"===t?e="PatientHistoryPage":"/admin/imageslist"===t?e="PatientImagesPage":"/admin/examinfo"===t&&(e="ExamsPage"),this.setState({page:e,pageStatus:me}),console.log("NEW STATE",this.state)}},{key:"pageSelector",value:function(){var e=this,t=this.state.page;return"FilterPage"===t?i.a.createElement(L,{changePage:function(t){return e.changePage(t)},additionalInfo:this.state.additionalInfo,pageStatus:this.state.pageStatus,accessToken:this.state.accessToken,backToLoginPage:this.state.backToLoginPage}):"PatientsPage"===t?i.a.createElement(V,{changePage:function(t){return e.changePage(t)},additionalInfo:this.state.additionalInfo,pageStatus:this.state.pageStatus,accessToken:this.state.accessToken,backToLoginPage:this.state.backToLoginPage}):"ExamsPage"===t?i.a.createElement(Z,{changePage:function(t){return e.changePage(t)},additionalInfo:this.state.additionalInfo,pageStatus:this.state.pageStatus,accessToken:this.state.accessToken,backToLoginPage:this.state.backToLoginPage}):"PatientHistoryPage"===t?i.a.createElement(ie,{changePage:function(t){return e.changePage(t)},additionalInfo:this.state.additionalInfo,pageStatus:this.state.pageStatus,accessToken:this.state.accessToken,backToLoginPage:this.state.backToLoginPage}):"PatientImagesPage"===t?i.a.createElement(le,{changePage:function(t){return e.changePage(t)},additionalInfo:this.state.additionalInfo,pageStatus:this.state.pageStatus,accessToken:this.state.accessToken,backToLoginPage:this.state.backToLoginPage}):"ShowPatientImagePage"===t?i.a.createElement(pe,{changePage:function(t){return e.changePage(t)},additionalInfo:this.state.additionalInfo,pageStatus:this.state.pageStatus,accessToken:this.state.accessToken,backToLoginPage:this.state.backToLoginPage}):null}},{key:"changePage",value:function(e){e.pageStatus?me=e.pageStatus:this.state.pageStatus&&(me=this.state.pageStatus),this.setState(e)}},{key:"render",value:function(){return this.pageSelector()}}]),t}(n.Component),fe=[{path:"/filters",name:"Filters Page",icon:"pe-7s-graph",component:be,layout:"/admin"},{path:"/cohort",name:"Patient Cohort",icon:"pe-7s-user",component:be,layout:"/admin"},{path:"/history",name:"Patient History",icon:"pe-7s-note2",component:be,layout:"/admin"},{path:"/imageslist",name:"Patient Images",icon:"pe-7s-news-paper",component:be,layout:"/admin"},{path:"/examinfo",name:"Exam Info",icon:"pe-7s-news-paper",component:be,layout:"/admin"}],ye=a(233),ve=a.n(ye),ke=a(234),xe=a.n(ke),Ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleNotificationClick=function(e){switch(Math.floor(4*Math.random()+1)){case 1:"success";break;case 2:"warning";break;case 3:"error";break;case 4:"info"}},a.getRoutes=function(e){return e.map((function(e,t){return"/admin"===e.layout?i.a.createElement(l.b,{path:e.layout+e.path,render:function(t){return i.a.createElement(e.component,Object.assign({},t,{handleClick:a.handleNotificationClick,accessToken:a.state.accessToken,backToLoginPage:a.backToLoginPage}))},key:t}):null}))},a.getBrandText=function(e){for(var t=0;t<fe.length;t++)if(-1!==a.props.location.pathname.indexOf(fe[t].layout+fe[t].path))return fe[t].name;return"Brand"},a.handleImageClick=function(e){a.setState({image:e})},a.handleColorClick=function(e){a.setState({color:e})},a.handleHasImage=function(e){a.setState({hasImage:e})},a.handleFixedClick=function(){"dropdown"===a.state.fixedClasses?a.setState({fixedClasses:"dropdown show-dropdown open"}):a.setState({fixedClasses:"dropdown"})},a.state={_notificationSystem:null,image:ve.a,color:"black",hasImage:!0,fixedClasses:"dropdown show-dropdown open",accessGranted:!1,displayedText:"",loginInfo:{username:null,password:null}},a.pageDisplayed=a.pageDisplayed.bind(Object(g.a)(a)),a.textFieldChanged=a.textFieldChanged.bind(Object(g.a)(a)),a.loginButtonPressed=a.loginButtonPressed.bind(Object(g.a)(a)),a.backToLoginPage=a.backToLoginPage.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({_notificationSystem:this.refs.notificationSystem});this.refs.notificationSystem,Math.floor(4*Math.random()+1)}},{key:"componentDidUpdate",value:function(e){window.innerWidth<993&&e.history.location.pathname!==e.location.pathname&&-1!==document.documentElement.className.indexOf("nav-open")&&document.documentElement.classList.toggle("nav-open"),"PUSH"===e.history.action&&(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainPanel.scrollTop=0)}},{key:"backToLoginPage",value:function(){this.setState({accessGranted:!1})}},{key:"textFieldChanged",value:function(e){var t=e.target.title,a=e.target.value,n=this.state.loginInfo;n[[t]]=a,this.setState({loginInfo:n})}},{key:"loginButtonPressed",value:function(){var e=this.state.loginInfo.username,t=this.state.loginInfo.password,n=this;a(39)({url:"https://tigernie.com/ssd_api/token",method:"get",headers:{Authorization:"Basic "+btoa(e+":"+t)}}).then((function(e){console.log(e),n.setState({accessGranted:!0,accessToken:e.data.result.token})})).catch((function(e){n.setState({displayedText:"Incorrect username or password. Please try again."})}))}},{key:"pageDisplayed",value:function(){var e=this;return this.state.accessGranted?i.a.createElement("div",{className:"wrapper"},i.a.createElement(b.a,{ref:"notificationSystem",style:T.style}),i.a.createElement(C,Object.assign({},this.props,{routes:fe,image:this.state.image,color:this.state.color,hasImage:this.state.hasImage})),i.a.createElement("div",{id:"main-panel",className:"main-panel",ref:"mainPanel"},i.a.createElement(E,Object.assign({},this.props,{style:Pe.NavStyle,brandText:this.getBrandText(this.props.location.pathname)})),i.a.createElement(l.d,null,this.getRoutes(fe)),i.a.createElement(S,null))):i.a.createElement("div",{style:Pe.mainDivStyle},i.a.createElement("div",{style:Pe.cardStyle},i.a.createElement("div",{style:Pe.innerTitleStyle},"Welcome to the NMH Ophthalmology Research Site!"),i.a.createElement("div",{style:Pe.innerTextField},i.a.createElement("div",null,"Username:"),i.a.createElement("input",{type:"text",title:"username",style:Pe.textFieldStyle,onChange:function(t){return e.textFieldChanged(t)}})),i.a.createElement("div",{style:Pe.innerTextField},i.a.createElement("div",null,"Password:"),i.a.createElement("input",{type:"password",title:"password",style:Pe.textFieldStyle,onChange:function(t){return e.textFieldChanged(t)}})),i.a.createElement("div",{style:Pe.innerTextField},i.a.createElement(O,{style:Pe.loginButtonStyle,title:"loginButton",onClick:function(){return e.loginButtonPressed()}},"Login")),i.a.createElement("div",{style:Pe.errorMessageStyle},this.state.displayedText)))}},{key:"render",value:function(){return this.pageDisplayed()}}]),t}(n.Component),Pe={NavStyle:{"font-weight":"bold",color:"black"},mainDivStyle:{position:"absolute",height:"100%",width:"100%",backgroundImage:"url(".concat(xe.a,")"),backgroundSize:"cover",display:"flex","flex-direction":"row","justify-content":"center","align-items":"center"},cardStyle:{width:"45%",height:"70%",borderRadius:"7%",border:"solid 2px black",backgroundColor:"white",display:"flex","flex-direction":"column",margin:"2%"},textFieldStyle:{width:"90%",border:"solid 2px black",backgroundColor:"white"},loginButtonStyle:{width:"90%",color:"black",border:"solid 2px black","font-weight":"bold","font-size":"20px","background-color":"#eef27c"},innerTitleStyle:{width:"90%",borderRadius:"7%",backgroundColor:"white",display:"flex","justify-content":"center","font-weight":"bold","font-size":"30px",margin:"5%"},innerTextField:{display:"flex","flex-direction":"column",width:"100%","margin-left":"5%","margin-bottom":"4.5%","font-size":"20px","font-weight":"bold"},errorMessageStyle:{display:"flex","justify-content":"center",color:"purple","font-size":"20px","font-weight":"bold","margin-bottom":"2%"}};r.a.render(i.a.createElement(o.a,null,i.a.createElement(l.d,null,i.a.createElement(l.b,{path:"/admin",render:function(e){return i.a.createElement(Ee,e)}}),i.a.createElement(l.a,{from:"/",to:"/admin/dashboard"}))),document.getElementById("root"))}},[[236,1,2]]]);
//# sourceMappingURL=main.d85620f2.chunk.js.map